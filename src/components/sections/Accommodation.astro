---
import images from "../../cms-content/images.json";

interface Props {
  t: any;
  locale: string;
}
const { t, locale } = Astro.props as Props;
---

<!-- Simplified Accommodation Section -->
<section id="accommodation" class="relative py-24 bg-white">
  <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <!-- Section Header -->
    <div class="text-center mb-16 animate-on-scroll">
      <h2
        class="text-3xl lg:text-4xl font-serif font-bold text-forest-800"
      >
        {t.accommodation.title}
      </h2>
    </div>

    <!-- Photo Gallery with Legends -->
    <div class="mb-20 animate-on-scroll">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
        {
          images.accommodation.photo_groups.map((group, index) => (
            <div
              class={
                group.images.length > 1 || index === images.accommodation.photo_groups.length - 1
                  ? "md:col-span-2"
                  : "md:col-span-1"
              }
            >
              {group.images.length > 1 ? (
                <div class="mb-8">
                  <!-- Multi-image group -->
                  <div
                    class={`grid gap-4 items-end ${
                      group.images.length === 2
                        ? "grid-cols-1 md:grid-cols-2"
                        : "grid-cols-1 md:grid-cols-3"
                    }`}
                  >
                    {group.images.map((image_path) => (
                      <div class="flex justify-center items-end">
                        <img
                          src={image_path}
                          alt={locale === "fr" ? group.legend.fr : group.legend.en}
                          class="rounded-xl shadow-soft w-full h-auto max-h-[500px] object-cover object-center"
                          style="aspect-ratio: auto;"
                        />
                      </div>
                    ))}
                  </div>
                  <p class="text-center text-forest-700 font-medium mt-4 text-base md:text-lg">
                    {locale === "fr" ? group.legend.fr : group.legend.en}
                  </p>
                </div>
              ) : (
                <div class="mb-8 flex flex-col items-center">
                  <!-- Single image -->
                  <div class="flex justify-center items-end">
                    <img
                      src={group.images[0]}
                      alt={locale === "fr" ? group.legend.fr : group.legend.en}
                      class="rounded-xl shadow-soft w-full h-auto max-h-[500px] object-cover object-center"
                      style="aspect-ratio: auto;"
                    />
                  </div>
                  <p class="text-center text-forest-700 font-medium mt-4 text-base md:text-lg">
                    {locale === "fr" ? group.legend.fr : group.legend.en}
                  </p>
                </div>
              )}
            </div>
          ))
        }
      </div>
    </div>

    <!-- Ecological Construction Section -->
    <div class="grid lg:grid-cols-2 gap-8 mb-16 animate-on-scroll">
      <div class="bg-gradient-to-br from-sage-50 to-warm-50 rounded-xl p-8">
        <h3 class="text-2xl font-serif font-semibold text-forest-800 mb-6">
          {locale === "fr" ? "Construction √©cologique" : "Ecological construction"}
        </h3>
        <div class="space-y-4 text-forest-700">
          <p>
            {locale === "fr"
              ? "Construis avec des mat√©riaux naturels biologiques et locaux, dans un esprit de d√©veloppement durable."
              : "Built with natural, organic and local materials, in a spirit of sustainable development."}
          </p>
          <p>
            {locale === "fr"
              ? "Isolation en laine de bois haute densit√©, pour un confort thermique optimal."
              : "High-density wood wool insulation for optimal thermal comfort."}
          </p>
          <p>
            {locale === "fr"
              ? "Traitement naturel des eaux us√©es par phyto-√©puration pour un impact environnemental minimal."
              : "Natural wastewater treatment by phyto-purification for minimal environmental impact."}
          </p>
        </div>
        <div class="grid grid-cols-1 gap-3 mt-6">
          <div class="flex items-center space-x-2">
            <span class="text-sage-600">‚úì</span>
            <span class="text-sm">{locale === "fr" ? "Filtre √† eau sur √©vier" : "Water filter on sink"}</span>
          </div>
          <div class="flex items-center space-x-2">
            <span class="text-sage-600">‚úì</span>
            <span class="text-sm">{locale === "fr" ? "√âclairage LED" : "LED lighting"}</span>
          </div>
          <div class="flex items-center space-x-2">
            <span class="text-sage-600">‚úì</span>
            <span class="text-sm">{locale === "fr" ? "Panneaux solaires pour compenser la climatisation" : "Solar panels to offset air conditioning"}</span>
          </div>
          <div class="flex items-center space-x-2">
            <span class="text-sage-600">‚úì</span>
            <span class="text-sm">{locale === "fr" ? "Produits d'entretien biologiques" : "Organic cleaning products"}</span>
          </div>
          <div class="flex items-center space-x-2">
            <span class="text-sage-600">‚úì</span>
            <span class="text-sm">{locale === "fr" ? "Composteur" : "Composter"}</span>
          </div>
        </div>
        <div class="mt-6 p-4 bg-white/50 rounded-lg border border-sage-200">
          <div class="flex items-start space-x-2">
            <span class="text-xl">üåø</span>
            <p class="text-forest-700 text-sm">
              {locale === "fr"
                ? "Merci d'utiliser des produits d'entretien et d'hygi√®ne biologiques. Notre phyto-√©puration vous en remercie."
                : "Please use organic cleaning and hygiene products. Our phyto-purification system thanks you."}
            </p>
          </div>
        </div>
      </div>

      <div>
        <img
          src="/images/accommodation-extracted/media/image15.jpeg"
          alt={locale === "fr"
            ? "Construction √©cologique"
            : "Ecological construction"}
          class="w-full h-full object-cover rounded-xl"
        />
      </div>
    </div>

    <!-- Practical Information Grid -->
    <div class="grid md:grid-cols-2 gap-6 mb-12 animate-on-scroll">
      <!-- Check-in/out -->
      <div class="bg-sage-50 rounded-xl p-6">
        <h3 class="font-semibold text-lg text-forest-800 mb-4 flex items-center">
          <span class="text-2xl mr-2">üïê</span>
          {t.accommodation.schedule}
        </h3>
        <div class="space-y-3 text-forest-700">
          <div>
            <div class="font-semibold">{t.accommodation.checkin}</div>
            <div>17h00 - 21h00</div>
          </div>
          <div>
            <div class="font-semibold">{t.accommodation.checkout}</div>
            <div>08h00 - 10h00</div>
          </div>
        </div>
      </div>

      <!-- House Rules -->
      <div class="bg-warm-50 rounded-xl p-6">
        <h3 class="font-semibold text-lg text-forest-800 mb-4 flex items-center">
          <span class="text-2xl mr-2">üìã</span>
          {t.accommodation.house_rules}
        </h3>
        <div class="space-y-3 text-forest-700">
          <div class="flex items-center space-x-2">
            <span>üö≠</span>
            <span set:html={t.accommodation.non_smoking} />
          </div>
          <div class="flex items-center space-x-2">
            <span>üêæ</span>
            <span set:html={t.accommodation.no_pets} />
          </div>
          <div class="flex items-center space-x-2">
            <span>üéâ</span>
            <span set:html={t.accommodation.no_parties} />
          </div>
        </div>
      </div>
    </div>

    <!-- Important Information Section - Centered Side by Side -->
    <div class="flex justify-center mb-8">
      <div class="grid md:grid-cols-2 gap-6 max-w-5xl">
        <!-- Accessibility -->
        <div
          class="bg-gradient-to-br from-amber-100 to-orange-50 rounded-xl p-6 border-2 border-amber-400 shadow-lg"
        >
          <div class="flex items-center space-x-3 mb-4">
            <div
              class="w-12 h-12 bg-white rounded-xl flex items-center justify-center flex-shrink-0 shadow-md"
            >
              <span class="text-2xl">‚ôø</span>
            </div>
            <h3 class="font-semibold text-lg text-amber-900">
              {t.accommodation.accessibility_title}
            </h3>
          </div>
          <p
            class="text-amber-900 text-base leading-relaxed font-medium"
            set:html={t.accommodation.accessibility_message}
          />
        </div>

        <!-- About Our Ducks -->
        <div
          class="bg-gradient-to-br from-amber-100 to-orange-50 rounded-xl p-6 border-2 border-amber-400 shadow-lg"
        >
          <div class="flex items-center space-x-3 mb-4">
            <div
              class="w-12 h-12 bg-white rounded-xl flex items-center justify-center flex-shrink-0 shadow-md"
            >
              <span class="text-2xl">ü¶Ü</span>
            </div>
            <h3 class="font-semibold text-lg text-amber-900">
              {t.accommodation.ducks_title}
            </h3>
          </div>
          <p
            class="text-amber-900 text-base leading-relaxed font-medium"
            set:html={t.accommodation.ducks_message}
          />
        </div>
      </div>
    </div>

    <!-- Host Proximity Note -->
    <div
      class="mx-auto max-w-2xl bg-gradient-to-r from-sage-50 to-blue-50 rounded-xl p-6 border border-sage-200 mb-8 animate-on-scroll"
    >
      <div class="flex items-start space-x-4">
        <span class="text-3xl">üè°</span>
        <div>
          <h4 class="font-semibold text-forest-800 mb-2">
            {t.accommodation.host_proximity_title}
          </h4>
          <p class="text-forest-700 text-sm leading-relaxed">
            {t.accommodation.host_proximity_message}
          </p>
        </div>
      </div>
    </div>
  </div>
</section>
